<!DOCTYPE html>
<html>

<head>
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src https://*.cern.ch http://127.0.0.1:8080 data: blob: 'unsafe-inline' 'unsafe-eval' https://lhcvdm.web.cern.ch/lhcvdm/"> -->
    <!-- NOTE: this is for testing to see if this fetches anything from unallowed locations - uncomment to test-->
    <style>
        html,
        body {
            margin: 0px;
        }
    </style>
    <title>LHC VdM web-editor</title>
    <script>
        window.addEventListener("error", function (error) {
            try{
                alert(error.type + error.filename + ":" + error.lineno + "\n" + error.message);
            } catch {}
        })
        window.addEventListener('unhandledrejection', async function (err) {
            try{
                let errorText;

                if(err.reason.body.locked) errorText = "";
                else errorText = await err.reason.text();

                if (err.reason instanceof Response) {
                    try {
                        const obj = JSON.parse(errorText);
                        if (typeof obj.message !== "undefined") {
                            alert('GitLab API error: ' + obj.message);
                        } else {
                            throw err;
                        }
                    } catch {
                        alert(`${err.reason.url} gave error code ${err.reason.status}:\n${errorText}`)
                    }
                }
                else {
                    alert(err.type + err.filename + ":" + err.lineno + "\n" + err.message);
                }
            }
            catch {}
        });
    </script>
    <link rel="preload" as="script" href="./extern/ace-17.06.19/ace.js">
    <link rel="preload" as="script" href="./extern/ace-17.06.19/ext-language_tools.js">
    <link rel="preload" as="script" href="./extern/jQuery-3.4.1.js">
    <link rel="preload" as="script" href="./extern/ace-17.06.19/ace.js">
    <link rel="preload" as="script" href="./extern/ace-17.06.19/ext-language_tools.js">
    <link rel="preload" as="script" href="./extern/ace-17.06.19/ext-searchbox.js">
    <link rel="preload" as="script" href="./extern/highcharts-7.1.2/highcharts.js">
    <link rel="preload" as="script" href="./extern/highcharts-7.1.2/no-data-to-display.js">

    <script src="./extern/jQuery-3.4.1.js"></script>

    <script src="./extern/ace-17.06.19/ace.js"></script>
    <script src="./extern/ace-17.06.19/ext-language_tools.js"></script>
    <script src="./extern/ace-17.06.19/ext-searchbox.js"></script>

    <script src="./extern/highcharts-7.1.2/highcharts.js"></script>
    <script src="./extern/highcharts-7.1.2/no-data-to-display.js"></script>
    <script src="./extern/hyperhtml-2.30.1.js"></script>
    <script>
        let hyper = hyperHTML.hyper;
        let wire = hyperHTML.wire;
    </script>

    <script type='module' src='src/main.js'></script>
</head>

<body>
</body>

</html>